#pragma once

#include <iostream>
#include <fstream>
#include <cstring>
#include "../../io/printer.h"
#include "../../io/file.h"
#include "../../converter/converter.h"

struct microcin_config {
    uint8_t xor_byte;
    uint32_t url_len;
    storage_p url;
    uint32_t version_len;
    storage_p version;
    uint32_t target_id_len;
    storage_p target_id;
    uint16_t time;
    uint32_t len;
};

void parse_microcin_config (const std::string&);
uint32_t decrypt_len(const storage_p ps, const int8_t x);
void decrypt_content(const storage_p enc, const uint8_t key);
void print_microcin_config (const microcin_config&);
